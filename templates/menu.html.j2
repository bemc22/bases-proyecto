{% extends 'header.html.j2' %}

{% block title %} Galea: Inicio {% endblock %}

{% block contenido %}

<h1>
  Dashboards

  <br>

  {% if session['jefe'] %}
  Hola Jefe
  {% endif %}
</h1>


<table>
  <thead>
    <tr>
      {% for item in dashboard %}
      <td>
        <div id='dashboard{{loop.index}}' style="margin:10px"></div>
      </td>
      {% endfor %}
    </tr>
  </thead>
</table>




<script type="text/javascript">
{% for item in dashboard %}
  {% set dash = item %}
  google.charts.setOnLoadCallback(function drawStuff(){
      var data = new google.visualization.arrayToDataTable({{dash['data']}});
      var options = {
        width: 400,
        height: 400,
        legend: { position: 'none' },
        chart: {
          title: "{{dash['names'][0] | capitalize}}",
          subtitle: "{{dash['names'][1] | capitalize}}"
         },

         hAxis: {
           title: 'Hello',
           textStyle: {
             color: 'white'
           }
         },


        bar: { groupWidth: "90%" }
      };
      var chart = new google.charts.Bar(document.getElementById('dashboard{{loop.index}}'));
      // Convert the Classic options to Material options.
      chart.draw(data, google.charts.Bar.convertOptions(options));
    });
{% endfor %}
</script>


{% endblock %}
